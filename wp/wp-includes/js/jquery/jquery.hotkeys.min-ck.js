(function(e){this.version="(beta)(0.0.3)";this.all={};this.special_keys={27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"};this.shift_nums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};this.add=function(t,n,r){if(e.isFunction(n)){r=n;n={}}var i={},s={type:"keydown",propagate:!1,disableInInput:!1,target:e("html")[0]},o=this;i=e.extend(i,s,n||{});t=t.toLowerCase();var u=function(t){var n=t.target;if(i.disableInInput){var r=e(n);if(r.is("input")||r.is("textarea"))return}var s=t.which,u=t.type,f=String.fromCharCode(s).toLowerCase(),l=o.special_keys[s],c=t.shiftKey,h=t.ctrlKey,p=t.altKey,v=t.metaKey,m=!0,g=null;while(!o.all[n]&&n.parentNode)n=n.parentNode;var y=o.all[n].events[u].callbackMap;if(!c&&!h&&!p&&!v)g=y[l]||y[f];else{var b="";p&&(b+="alt+");h&&(b+="ctrl+");c&&(b+="shift+");v&&(b+="meta+");g=y[b+l]||y[b+f]||y[b+o.shift_nums[f]]}if(g){g.cb(t);if(!g.propagate){t.stopPropagation();t.preventDefault();return!1}}};this.all[i.target]||(this.all[i.target]={events:{}});if(!this.all[i.target].events[i.type]){this.all[i.target].events[i.type]={callbackMap:{}};e.event.add(i.target,i.type,u)}this.all[i.target].events[i.type].callbackMap[t]={cb:r,propagate:i.propagate};return e};this.remove=function(t,n){n=n||{};target=n.target||e("html")[0];type=n.type||"keydown";t=t.toLowerCase();delete this.all[target].events[type].callbackMap[t];return e};e.hotkeys=this;return e})(jQuery);